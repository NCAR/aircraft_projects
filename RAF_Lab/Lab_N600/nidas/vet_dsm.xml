<?xml version="1.0" encoding="ISO-8859-1" standalone="no" ?>

<!-- Copyright 2005 UCAR, NCAR, All Rights Reserved -->
<project xmlns="http://www.eol.ucar.edu/nidas" name="RAF_Lab" system="Lab_N600" version="$LastChangedRevision: 2514 $" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.eol.ucar.edu/nidas nidas.xsd">
  <sensorcatalog>
    <sensor ID="IRIG" class="raf.IRIGSensor">
        <sample id="1">
            <variable longname="IRIG-UNIX clock diff" name="IRIG_Tdiff" units="sec"/>
            <variable longname="IRIG status: bit 0=SYNC,1=NOCODE,2=NOPPS,3=NOMAJT,4=NOYEAR,5=NOSYNC" name="IRIG_Status" units="bits"/>
        </sample>
    </sensor>
    <serialSensor ID="DUMMY" baud="115200" class="DSMSerialSensor" databits="8" parity="none" stopbits="1">
    </serialSensor>
</sensorcatalog>
  <site class="raf.Aircraft" name="Lab_N600">
    <parameter name="tailNumber" type="string" value="N600"/>
    <server statusAddr="sock:127.0.0.1:30001">
        <service class="XMLConfigService">
            <output>
                <socket type="mcaccept"/>
            </output>
        </service>
        <service class="RawSampleService" priority="RT_FIFO:50" procHeapMax="500M" procSorterLength="1.0" rawHeapMax="100M" rawSorterLength="0.25">

<!-- input from every DSM on this aircraft that has
                 a socket output of type RawSampleOutputStream -->
            <input class="RawSampleInputStream">
                <socket maxIdle="60" type="mcaccept"/>
            </input>
            <processor class="SampleArchiver">
                <output class="RawSampleOutputStream">
                    <fileset dir="/var/r1/${PROJECT}" file="%Y%m%d_%H%M%S_${FLIGHT}.ads" length="0"/>
                </output>
                <output class="RawSampleOutputStream">
                    <socket port="30000" type="server"/>
                </output>
            </processor>
            <processor class="raf.SyncRecordGenerator">
                <output class="SampleOutputStream">
                    <socket port="30001" type="server"/>
                </output>
            </processor>
        </service>
    </server>
    <dsm id="1" location="lab" name="dsmTestVul" rserialPort="30002" statusAddr="sock::30001">
        <sensor IDREF="IRIG" devicename="/dev/irig0" id="100" suffix="_VUL"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS1" id="105"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS2" id="110"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS3" id="120"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS4" id="130"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS5" id="140"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS6" id="150"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS7" id="160"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS8" id="170"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS9" id="180"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS10" id="190"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS11" id="210"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS12" id="220"/>
        <sensor class="raf.DSMAnalogSensor" devicename="/dev/ncar_a2d0" id="240" suffix="_VUL">
            <calfile file="A2D008.dat" path="${PROJ_DIR}/Configuration/raf/cal_files/A2D/"/>
            <parameter name="rate" type="int" value="500"/>
            <sample id="1" rate="100">
                <variable longname="volts" name="CH0_1T" units="V">
                    <parameter name="channel" type="int" value="0"/>
                    <parameter name="gain" type="float" value="1"/> 
            <parameter name="bipolar" type="bool" value="true"/>
                </variable>
                <variable longname="volts" name="CH1_1T" units="V">
                    <parameter name="gain" type="float" value="1"/> 
            <parameter name="bipolar" type="bool" value="true"/>
                </variable>
                <variable longname="volts" name="CH2_1T" units="V">
                    <parameter name="gain" type="float" value="1"/> 
            <parameter name="bipolar" type="bool" value="true"/>
                </variable>
                <variable longname="volts" name="CH3_1T" units="V">
                    <parameter name="gain" type="float" value="1"/> 
            <parameter name="bipolar" type="bool" value="true"/>
                </variable>
                <variable longname="volts" name="CH4_1T" units="V">
                    <parameter name="gain" type="float" value="1"/> 
            <parameter name="bipolar" type="bool" value="true"/>
                </variable>
                <variable longname="volts" name="CH5_1T" units="V">
                    <parameter name="gain" type="float" value="1"/> 
            <parameter name="bipolar" type="bool" value="true"/>
                </variable>
                <variable longname="volts" name="CH6_1T" units="V">
                    <parameter name="gain" type="float" value="1"/> 
            <parameter name="bipolar" type="bool" value="true"/>
                </variable>
            </sample>
            <sample id="2" rate="1">
                <parameter name="temperature" type="bool" value="true"/>
                <variable longname="A2D Temperature" name="A2DTEMP" units="deg_C"/>
            </sample>
        </sensor>
        <output class="RawSampleOutputStream">
            <socket type="mcrequest"/>
        </output>
        <output class="RawSampleOutputStream">
            <socket port="30000" type="server"/>
        </output>
    </dsm>
    <dsm id="2" location="lab" name="dsmTestVip" rserialPort="30002" statusAddr="sock::30001">
        <sensor IDREF="IRIG" devicename="/dev/irig0" id="100" suffix="_VIP"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS2" id="110"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS3" id="120"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS4" id="130"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS5" id="140"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS6" id="150"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS7" id="160"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS8" id="170"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS9" id="180"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS10" id="190"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS11" id="210"/>
        <serialSensor IDREF="DUMMY" devicename="/dev/ttyS12" id="220"/>
        <sensor class="raf.DSMAnalogSensor" devicename="/dev/ncar_a2d0" id="200" suffix="_VIP">
            <calfile file="A2D007.dat" path="${PROJ_DIR}/Configuration/raf/cal_files/A2D/"/>
            <parameter name="rate" type="int" value="500"/>
            <sample id="1" rate="100">
                <variable longname="volts" name="CH0_1T" units="V">
                    <parameter name="channel" type="int" value="0"/>
                    <parameter name="gain" type="float" value="1"/> 
            <parameter name="bipolar" type="bool" value="true"/>
                </variable>
                <variable longname="volts" name="CH1_1T" units="V">
                    <parameter name="gain" type="float" value="1"/> 
            <parameter name="bipolar" type="bool" value="true"/>
                </variable>
                <variable longname="volts" name="CH2_1T" units="V">
                    <parameter name="gain" type="float" value="1"/> 
            <parameter name="bipolar" type="bool" value="true"/>
                </variable>
                <variable longname="volts" name="CH3_1T" units="V">
                    <parameter name="gain" type="float" value="1"/> 
            <parameter name="bipolar" type="bool" value="true"/>
                </variable>
                <variable longname="volts" name="CH4_1T" units="V">
                    <parameter name="gain" type="float" value="1"/> 
            <parameter name="bipolar" type="bool" value="true"/>
                </variable>
                <variable longname="volts" name="CH5_1T" units="V">
                    <parameter name="gain" type="float" value="1"/> 
            <parameter name="bipolar" type="bool" value="true"/>
                </variable>
                <variable longname="volts" name="CH6_1T" units="V">
                    <parameter name="gain" type="float" value="1"/> 
            <parameter name="bipolar" type="bool" value="true"/>
                </variable>
                <variable longname="volts" name="CH7_1T" units="V">
                    <parameter name="gain" type="float" value="1"/> 
            <parameter name="bipolar" type="bool" value="true"/>
                </variable>
            </sample>
            <sample id="2" rate="1">
                <parameter name="temperature" type="bool" value="true"/>
                <variable longname="A2D Temperature" name="A2DTEMP" units="deg_C"/>
            </sample>
        </sensor>
        <output class="RawSampleOutputStream">
            <socket type="mcrequest"/>
        </output>
        <output class="RawSampleOutputStream">
            <socket port="30000" type="server"/>
        </output>
    </dsm>
  </site>
</project>
