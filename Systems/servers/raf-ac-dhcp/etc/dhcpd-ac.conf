ddns-updates on;
ddns-update-style interim;
update-static-leases true;
deny duplicates;
# deny unknown-clients;
allow unknown-clients;
one-lease-per-client on;
ping-check off;

# If client-updates are allowed, then a visiting client can ask for
# a name like  mypc.psu.edu. dhcpd will provide that
# name and will only ask DNS to update the PTR record and
# not the A record, and so DNS will not assign a name in the local
# domain.
ignore client-updates;

# If use-host-decl-names is on, dhcpd will send a host-name option
# to the client to change its hostname (many clients ignore it).
# Even so, changing hostnames is probably not something that we
# want to do, though it could be useful for DSMs ...
use-host-decl-names off;

# This is the key used by the rndc program to start/stop/control named
include "/etc/rndc.key";

# This is the key used for updates between dhcpd and named
include "/etc/raf.ucar.edu.key";
 
subnet 192.168.84.0 netmask 255.255.255.0 {
  authoritative;
  range 192.168.84.150 192.168.84.225;
  option routers 192.168.84.1;
  option broadcast-address 192.168.84.255;
  option ntp-servers 192.168.184.10,192.168.84.1;
  option domain-name-servers 192.168.84.1;
  option domain-name "raf.ucar.edu";
  default-lease-time 86400;
  max-lease-time 86400;
}

subnet 192.168.184.0 netmask 255.255.255.0 {
  authoritative;
  range 192.168.184.50 192.168.184.99;
  option routers 192.168.184.1;
  option broadcast-address 192.168.184.255;
  option ntp-servers 192.168.184.10,192.168.184.1;
  option domain-name-servers 192.168.184.1;
  option domain-name "raf.ucar.edu";
  default-lease-time 86400;
  max-lease-time 86400;
}
zone raf.ucar.edu. {
   primary 192.168.84.1;
   key raf.ucar.edu;
}
zone 84.168.192.in-addr.arpa. {
   primary 192.168.84.1;
   key raf.ucar.edu;
}
zone 184.168.192.in-addr.arpa. {
   primary 192.168.184.1;
   key raf.ucar.edu;
}

# host entries must have different hostnames (the field after "host")
# but can have the same ddns-hostname.
# So if we have two systems that should have the same dns name on
# each aircraft, like "fwdcam", but have different MAC addresses,
# they can both be configured here with different hostnames,
# like fwdcam-gv and fwdcam-c130, but the same ddns-hostname.
# This reduces the need for different dhcpd configs on each plane.
group {
  # GV timeserver
  host timeserver-84-gv {
     hardware ethernet 00:15:62:d1:eb:40;
     ddns-hostname "timeserver-84";
     fixed-address 192.168.84.10;
  }

  host atd-boynton {
    hardware ethernet 00:0f:1f:ab:95:1a;
    ddns-hostname "atd-boynton";
    fixed-address 192.168.84.15;
  }

  # GV fwdcam
  host fwdcam-gv {
     hardware ethernet 00:40:8c:5c:0f:9d;
     ddns-hostname "fwdcam";
  }

  # hubs
  host netgear84-gv {
     hardware ethernet 00:09:5B:5A:F3:15;
     ddns-hostname "netgear84";
  }
  host netgear184-gv {
     hardware ethernet 00:09:5B:5A:F8:75;
     ddns-hostname "netgear184";
  }

  host bonnie {
     hardware ethernet 00:14:22:dc:ba:0d;
     ddns-hostname "bonnie";
  }
  host cvi-pc {
     hardware ethernet 00:0b:97:ba:42:f1;
     ddns-hostname "cvi-pc";
  }
  host cjw-pc {
     hardware ethernet 00:01:4a:9e:89:3a;
     ddns-hostname "cjw-pc";
  }
  host gdm-pc {
     hardware ethernet 00:12:3f:f6:73:20;
     ddns-hostname "gdm-pc";
  }
  host hyper1-pc {
     hardware ethernet 00:11:43:6f:69:76;
     ddns-hostname "hyper1-pc";
  }
  host hyper2-pc {
     hardware ethernet 00:11:43:6f:69:ae;
     ddns-hostname "hyper2-pc";
  }
  host hyper3-pc {
     hardware ethernet 00:11:43:6f:69:2f;
     ddns-hostname "hyper3-pc";
  }
  host hyper4-pc {
     hardware ethernet 00:11:43:78:dc:ff;
     ddns-hostname "hyper4-pc";
  }
  host hyper5-pc {
     hardware ethernet 00:14:22:e6:d1:1d;
     ddns-hostname "hyper5-pc";
  }
  host eol-rdma {
     hardware ethernet 00:15:60:b6:0c:93;
     ddns-hostname "eol-rdma";
  }
  host dgps-pc {
     hardware ethernet 00:0f:1f:cb:08:e8;
     ddns-hostname "dgps-pc";
  }
  host fo3cl-pc {
     hardware ethernet 00:80:2f:ab:c1:23;
     ddns-hostname "fo3cl-pc";
  }
  host mtp-pc {
     hardware ethernet 00:15:17:58:f0:b6;
     ddns-hostname "mtp-pc";
  }
  host nonoy03-pc {
     hardware ethernet 00:80:2f:0a:5b:8c;
     ddns-hostname "nonoy03-pc";
  }
  host avaps-pc {
     hardware ethernet 00:11:11:34:31:dd;
     ddns-hostname "avaps-pc";
  }
  host perseus {
     hardware ethernet 00:0D:56:DF:CA:C3;
     ddns-hostname "perseus";
  }
  host higear-pc {
     hardware ethernet 00:1a:70:8f:c5:93;
     ddns-hostname "higear-pc";
  }
}
